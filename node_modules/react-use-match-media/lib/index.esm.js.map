{"version":3,"file":"index.esm.js","sources":["../src/useBrowserLayoutEffect.js","../src/index.js"],"sourcesContent":["import { useLayoutEffect } from 'react';\n\nconst useBrowserLayoutEffect =\n  typeof window !== 'undefined' ? useLayoutEffect : () => {};\n\nexport default useBrowserLayoutEffect;\n","import { useState } from 'react';\nimport invariant from 'tiny-invariant';\nimport useBrowserLayoutEffect from './useBrowserLayoutEffect';\n\nconst useMatchMedia = (mediaQueryString, initialState = false) => {\n  invariant(\n    typeof mediaQueryString === 'string',\n    'Expected `mediaQueryString` to be a string'\n  );\n  invariant(\n    typeof initialState === 'boolean',\n    'Expected `initialState` to be a boolean'\n  );\n\n  const [state, setState] = useState(initialState);\n\n  useBrowserLayoutEffect(() => {\n    if (window.matchMedia) {\n      const mediaQueryList = window.matchMedia(mediaQueryString);\n\n      const updateState = () => {\n        setState(mediaQueryList.matches);\n      };\n      updateState();\n\n      mediaQueryList.addListener(updateState);\n      return () => {\n        mediaQueryList.removeListener(updateState);\n      };\n    }\n  }, [mediaQueryString]);\n\n  return state;\n};\n\nexport default useMatchMedia;\n"],"names":["useBrowserLayoutEffect","window","useLayoutEffect","useMatchMedia","mediaQueryString","initialState","invariant","useState","state","setState","matchMedia","mediaQueryList","updateState","matches","addListener","removeListener"],"mappings":";;;AAEA,IAAMA,sBAAsB,GAC1B,OAAOC,MAAP,KAAkB,WAAlB,GAAgCC,eAAhC,GAAkD,YAAM,EAD1D;;ACEMC,IAAAA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,gBAAD,EAAmBC,YAAnB,EAA4C;AAAA,EAAA,IAAzBA,YAAyB,KAAA,KAAA,CAAA,EAAA;AAAzBA,IAAAA,YAAyB,GAAV,KAAU,CAAA;AAAA,GAAA;;AAChE,EACE,EAAA,OAAOD,gBAAP,KAA4B,QAD9B,CAAA,GAAA,OAAA,CAAA,GAAA,CAAA,QAAA,KAAA,YAAA,GAAAE,SAAS,CAAA,KAAA,EAEP,4CAFO,CAAT,GAAAA,SAAS,CAAT,KAAA,CAAA,GAAA,KAAA,CAAA,CAAA;AAIA,EACE,EAAA,OAAOD,YAAP,KAAwB,SAD1B,CAAA,GAAA,OAAA,CAAA,GAAA,CAAA,QAAA,KAAA,YAAA,GAAAC,SAAS,CAAA,KAAA,EAEP,yCAFO,CAAT,GAAAA,SAAS,CAAT,KAAA,CAAA,GAAA,KAAA,CAAA,CAAA;;AAKA,EAA0BC,IAAAA,SAAAA,GAAAA,QAAQ,CAACF,YAAD,CAAlC;AAAA,MAAOG,KAAP,GAAA,SAAA,CAAA,CAAA,CAAA;AAAA,MAAcC,QAAd,GAAA,SAAA,CAAA,CAAA,CAAA,CAAA;;AAEAT,EAAAA,sBAAsB,CAAC,YAAM;AAC3B,IAAIC,IAAAA,MAAM,CAACS,UAAX,EAAuB;AACrB,MAAA,IAAMC,cAAc,GAAGV,MAAM,CAACS,UAAP,CAAkBN,gBAAlB,CAAvB,CAAA;;AAEA,MAAA,IAAMQ,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxBH,QAAAA,QAAQ,CAACE,cAAc,CAACE,OAAhB,CAAR,CAAA;AACD,OAFD,CAAA;;AAGAD,MAAAA,WAAW,EAAA,CAAA;AAEXD,MAAAA,cAAc,CAACG,WAAf,CAA2BF,WAA3B,CAAA,CAAA;AACA,MAAA,OAAO,YAAM;AACXD,QAAAA,cAAc,CAACI,cAAf,CAA8BH,WAA9B,CAAA,CAAA;AACD,OAFD,CAAA;AAGD,KAAA;AACF,GAdqB,EAcnB,CAACR,gBAAD,CAdmB,CAAtB,CAAA;AAgBA,EAAA,OAAOI,KAAP,CAAA;AACD;;;;"}